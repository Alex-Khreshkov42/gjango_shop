{% extends 'base.html' %}
{% load static %}
{% block head_text %}
    <div class="alert alert-primary" role="alert">
        <h1 align="center">{{ user_profile.user.username }}'s profile</h1>
    </div>
{% endblock %}

{% block body %}
    <div class="profile_content">
        {% if user_profile.profile_pic %}
            <img id="profile_img" src="{{ user_profile.profile_pic.url }}">
        {% else %}
            <img id="profile_img" src="{% static 'media/profiles_images/ava.png' %}">
        {% endif %}
        {{ user_profile.user.username }}
        <div class="profile_info">
            <div class="container">
                <div class="row">
                    <div class="col-sm">
                        Name:
                        {% if user_profile.user.first_name %}
                            {{ user_profile.user.first_name }}
                        {% endif %}
                    </div>
                    <div class="col-sm">
                        Last Name:
                        {% if user_profile.user.last_name %}
                            {{ user_profile.user.last_name }}
                        {% endif %}
                    </div>
                    <div class="col-sm">
                        Phone:
                        {% if user_profile.phone %}
                            {{ user_profile.phone }}
                        {% endif %}
                    </div>
                    <div class="col-sm">
                        Date of birth:
                        {% if user_profile.birth_date %}
                            {{ user_profile.birth_date }}
                        {% endif %}
                    </div>
                </div>
            </div>
            <hr>
            <div class="container">
                <h3 align="center"> Your orders: </h3><br>
                {% if orders %}
                    <table class="table">
                        <thead>
                        <tr>
                            <th scope="col">Number</th>
                            <th scope="col">Items</th>
                            <th scope="col">Created</th>
                            <th scope="col">Updated</th>
                            <th scope="col">Delivery/Issue point</th>
                            <th scope="col">Cost</th>
                            <th scope="col">Status</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for order in orders %}
                            <tr>
                                <th scope="row">{{ order.id }}</th>
                                <td>{{ order.items}}</td>
                                <td>{{ order.created }}</td>
                                <td>{{ order.updated }}</td>
                                {% if order.issue_point %}
                                    <td>{{ order.issue_point }}</td>
                                {% endif %}
                                {% if order.delivery_address %}
                                    <td>{{ order.delivery_address }}</td>
                                {% endif %}
                                <td>{{ order.total_cost }}$</td>
                                {% if order.status == 'done' %}
                                    <td bgcolor="#adff2f">{{ order.status }}</td>
                                {% else %}
                                    <td bgcolor="aqua">{{ order.status }}</td>
                                {% endif %}
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                {% else %}
                    <h1 align="center">No orders </h1>
                {% endif %}
            </div>
        </div>
{% endblock %}